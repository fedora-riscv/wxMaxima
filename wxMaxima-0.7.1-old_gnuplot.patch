--- wxMaxima-0.7.1/data/wxmathml.lisp.old_gnuplot	2006-12-19 03:16:50.000000000 -0600
+++ wxMaxima-0.7.1/data/wxmathml.lisp	2007-04-09 08:57:13.000000000 -0500
@@ -890,10 +890,18 @@
 
 (defmvar $wxplot_size '((mlist simp) 400 250))
 
+;; newer gnuplot syntax
+;(defun $wxplot_preamble ()
+;  (format nil "set terminal png size ~d,~d; set zeroaxis;"
+;         ($first $wxplot_size)
+;         ($second $wxplot_size)))
+;; older gnuplot syntax
 (defun $wxplot_preamble ()
-  (format nil "set terminal png size ~d,~d; set zeroaxis;"
-	  ($first $wxplot_size)
-	  ($second $wxplot_size)))
+  (let ((frmt "set terminal png picsize ~d ~d; set zeroaxis;"))
+    (format nil frmt
+            ($first $wxplot_size)
+            ($second $wxplot_size))))
+
 
 (defun $wxplot2d (&rest args)
   (let ((preamble ($wxplot_preamble))
